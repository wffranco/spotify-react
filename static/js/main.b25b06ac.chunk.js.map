{"version":3,"sources":["utils/queryString.js","keys.js","services/api.js","redux/reducers/music.js","redux/reducers/search.js","redux/reducers/token.js","redux/reducers/user.js","redux/reducers/index.js","redux/middleware.js","redux/store.js","reportWebVitals.js","router.js","components/icon.jsx","components/header/search.jsx","components/header/menu.jsx","components/header/index.jsx","logo.svg","views/Home.jsx","components/tracks/Track.jsx","utils/pages.js","components/tracks/paginator.jsx","components/tracks/index.jsx","views/Music.jsx","views/Search.jsx","views/index.jsx","App.jsx","index.js"],"names":["queryString","entries","Array","Object","map","entrie","el","encodeURIComponent","key","value","join","client_id","basic_token","btoa","base_url","window","location","origin","pathname","api_url","trim","path","replace","api","resource","init","store","getState","token","test","fetch","headers","then","response","parseInt","status","json","merge","first","more","reduce","group","next","assign","music","query","loading","tracks","error","reducers","state","data","actions","searchMusic","dispatch","a","q","page","limit","type","search","offset","searchMatch","catch","pagination","previous","total","current","pages","Math","ceil","setSearch","storage","localStorage","getItem","startedFirst","token_type","access_token","reload","setItem","hash","removeItem","validateCode","urlParams","URLSearchParams","code","get","method","body","login_url","user","isAuth","login","logout","fetchUser","force","console","log","finally","combineReducers","filtered","name","reducer","getFunctionReducer","Function","filterReducers","payload","_state","undefined","middleware","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","action","createStore","useActions","names","useDispatch","fromEntries","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","useHistory","history","PrivateRoute","children","check","redirectTo","rest","render","to","from","Icon","props","fill","height","width","viewBox","xmlns","preserveAspectRatio","fillRule","className","d","Search","useSelector","onSubmit","e","preventDefault","push","placeholder","aria-label","aria-describedby","onChange","target","id","Menu","href","role","data-toggle","aria-haspopup","aria-expanded","display_name","aria-labelledby","onClick","Header","data-target","aria-controls","Home","src","logo","alt","Track","track","artists","album","Images","Song","Album","Artists","release_date","title","image","images","url","duration_ms","msToTime","time","unshift","t","val","toString","padStart","getPages","glue","max","secuence","num","start","f","n","last","hodd","hl","hh","qodd","ql","qh","pageGroups","result","Paginator","Button","disabled","aria-hidden","PageButtons","dis","Tracks","items","length","Music","useParams","useRouteMatch","exact","Views","App","useEffect","require","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b25b06ac.chunk.js","sourcesContent":["export default function queryString(entries) {\n  if (entries instanceof Array) {\n  } else if (entries instanceof Object) {\n    entries = Object.entries(entries);\n  } else {\n    entries = [];\n  }\n  return entries\n    .map((entrie) => entrie.map(el => encodeURIComponent(el)))\n    .map(([key, value]) => `${key}=${value}`)\n    .join('&');\n}\n","// spotify keys\nexport const client_id = '28cc361d57e444139193b0ee7a2d7d5a';\nexport const client_secret = '71182b2f1cf147cda6363fec356aa58d';\n","import store from '../redux/store';\nimport { client_id, client_secret } from '../keys';\n// import { get_auth } from './auth';\n\nexport { client_id, client_secret };\nexport const basic_token = btoa(`${client_id}:${client_secret}`);\n\nexport const base_url = window.location.origin + window.location.pathname;\n\nexport const api_url = 'https://api.spotify.com';\nexport const auth_url = 'https://accounts.spotify.com/authorize';\n\nfunction trim(path) {\n  return path.replace(/^\\/|\\/$/g, '').replace(/\\/\\/+/g, '/');\n}\n\nexport function api(resource, init = {}) {\n  const { token } = store.getState();\n  // console.log('api token:', token);\n\n  if (typeof resource === 'string' && !/^\\w+:\\/\\//.test(resource)) {\n    resource = `${api_url}/${trim(resource)}`;\n  }\n\n  return fetch(resource, {\n    ...init,\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': token,\n      ...init.headers,\n    },\n  }).then(response => {\n    if (parseInt(response.status/100) === 2) return response.json();\n    throw response;\n  });\n}\n","import queryString from '../../utils/queryString';\nimport { api } from '../../services/api';\n\nconst init = () => ({ query: {}, loading: false, tracks: null, error: null });\n\nconst merge = (first, ...more) => more.reduce((group, next) => Object.assign(group, next||{}), {...first});\n\nconst music = {\n  init: init(),\n  reducers: {\n    'music/clear': () => init(),\n    'music/error': (error = null, state) => state.error ? state : merge(state||{}, {error}),\n    'music/replace': (data) => merge(init(), data),\n    'music/save': (data, state) => merge(state||{}, data, {error: null}),\n  },\n  actions: {\n    searchMusic: ({dispatch, getState}) => async({ query:q = '', page = 1, limit = 20, type = 'track' }) => {\n      if (!q) return;\n      const state = () => getState().music||{};\n      const offset = (page - 1) * limit;\n      const query = {q, offset, limit, type};\n      const search = queryString(query);\n      const searchMatch = () => search === queryString(state().query);\n      if (searchMatch()) return;\n      dispatch('music/save', {query, loading: true});\n      return await api(`v1/search?${search}`).then((music) => {\n        if (music && searchMatch()) {\n          dispatch('music/save', {loading: false, ...music});\n        }\n      }).catch(error => {\n        dispatch('music/error', {error});\n      });\n    },\n    pagination: ({getState}) => () => {\n      const {query = {}, tracks = {}} = getState().music||{};\n      let {\n        limit = 20,\n        offset = 20,\n        previous = null,\n        next = null,\n        total = 0,\n      } = tracks||{};\n      const current = parseInt(offset/limit) + 1;\n      if (previous) previous = current - 1;\n      if (next) next = current + 1;\n      if (next > 100) next = null;\n      let pages = Math.ceil(total/limit);\n      if (pages > 100) pages = 100;\n      const data = { query, current, limit, offset, previous, next, pages, total };\n      // console.log('pagination:', data);\n      return data;\n    },\n  },\n};\n\nexport default music;\n","export const init = '';\n\nexport const reducers = {\n  'search/save': (search) => search||'',\n  'search/clear': '',\n};\n\nexport const actions = {\n  setSearch: ({dispatch, getState}) => {\n    return (search) => {\n      if (getState().search === search) return;\n      dispatch('search/save', search);\n    };\n  },\n};\n\nconst search = { init, reducers, actions };\nexport default search;\n","import { client_id, basic_token, base_url, auth_url, api } from '../../services/api';\n\nconst storage = 'auth_token';\n\nexport const init = localStorage.getItem(storage) || null;\n\nexport const reducers = {\n  'token/validating': null,\n  'token/save'({ token_type, access_token, reload = false }) {\n    const token = `${token_type} ${access_token}`;\n    localStorage.setItem(storage, token);\n    if (reload) window.location = `${base_url}${window.location.hash}`;\n    return token;\n  },\n  'token/remove'() {\n    localStorage.removeItem(storage);\n    return null;\n  },\n}\n\nexport const actions = {\n  validateCode: ({dispatch}) => async() => {\n    // console.log('validate code');\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const code = urlParams.get('code');\n    if (!code) return;\n\n    // console.log('validating code');\n    dispatch('token/validating');\n    const response = await api('https://accounts.spotify.com/api/token', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Basic ${basic_token}`,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: `grant_type=authorization_code&code=${code}&redirect_uri=${base_url}`,\n    });\n    // console.log('validation response:', response);\n    const { access_token, token_type } = response;\n\n    if (access_token && token_type) {\n      // console.log('code valid');\n      dispatch('token/save', {\n        token_type,\n        access_token,\n        reload: true,\n      });\n    }\n\n    return response;\n  },\n  login_url: () => `${auth_url}?client_id=${client_id}&response_type=code&redirect_uri=${base_url}`,\n};\n\nconst token = { init, reducers, actions };\nexport default token;\n","import { api } from '../../services/api';\n\nlet startedFirst = false;\n\nconst user = {\n  init: false,\n  reducers: {\n    'user/login': ({user}) => user,\n    'user/guest': null,\n    'user/logout': null,\n  },\n  actions: {\n    isAuth: ({state}) => () => state.user !== null,\n    login: ({actions}) => () => {\n      window.location = actions.login_url();\n    },\n    logout: ({dispatch}) => () => {\n      dispatch('token/remove');\n      dispatch('user/logout');\n    },\n    fetchUser: ({dispatch, state}) => {\n      let loading = false;\n      return async(force = false) => {\n        // console.log('fetch user');\n        if (startedFirst && !force) return;\n        startedFirst = true;\n\n        if (loading) return;\n        if (!state.token) {\n          dispatch('user/guest');\n          return;\n        }\n        if (!state.token || (state.user && !force)) return;\n\n        loading = true;\n        return await api('v1/me').then(user => {\n          // console.log('user:', user);\n          dispatch('user/login', { user });\n        }).catch(error => {\n          dispatch('user/guest');\n          if (error.error) {\n            console.log('unauthorized user');\n            dispatch('token/remove');\n          } else {\n            throw error;\n          }\n        }).catch(error => {\n          console.log('error:', error);\n        }).finally(() => {\n          loading = false;\n        });\n      };\n    },\n  },\n};\n\nexport default user;\n","import { combineReducers } from 'redux';\n\nimport music from './music';\nimport search from './search';\nimport token from './token';\nimport user from './user';\n\nconst reducers = {\n  music,\n  search,\n  token,\n  user,\n};\n\nconst actions = {};\n\nexport default combineReducers(filterReducers(reducers));\n\nexport { actions };\n\n// format & filter reducers\n\nfunction filterReducers(reducers) {\n  const filtered = {};\n  for (const name in reducers) {\n    const reducer = getFunctionReducer(reducers[name]);\n    if (reducer instanceof Function) {\n      filtered[name] = reducer;\n    }\n  }\n  return filtered;\n}\n\nfunction getFunctionReducer(reducer) {\n  if (reducer instanceof Function) return reducer;\n  if (reducer instanceof Object) {\n\n    for (const name in reducer.actions) {\n      actions[name] = reducer.actions[name];\n    }\n    return (state = reducer.init, { type, payload }) => {\n      const _state = reducer.reducers[type];\n      if (_state instanceof Function) return _state(payload, state);\n      return _state !== undefined ? _state : state;\n    };\n  }\n}\n","import { applyMiddleware, compose } from 'redux';\nimport { actions } from './reducers';\n\nfunction dispatchMiddleware({dispatch, getState}) {\n  const store = {\n    actions,\n    dispatch: (type, payload = {}) => type instanceof Function ? dispatch(type) : dispatch({type, payload}),\n    getState,\n    get state() { return getState(); },\n  };\n  return next => action => {\n    // console.log('action:', action);\n    if (action instanceof Function) return action(store);\n    if (action === undefined) return;\n    return next(action);\n  }\n};\n\n// enable developer tool if exists\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst middleware = composeEnhancers(applyMiddleware(dispatchMiddleware));\n\nexport default middleware;\n","import { createStore } from 'redux';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport middleware from './middleware';\nimport reducers, { actions } from './reducers';\n\nconst store = createStore(reducers, middleware);\nwindow.store = store;\n\nexport default store;\n\nexport { useSelector };\n\nexport function useActions(names = null) {\n  const dispatch = useDispatch();\n  if (names instanceof Array) return Object.fromEntries(names.map(name => [name, dispatch(actions[name])]));\n\n  return Object.fromEntries(Object.entries(actions).map(([name, action]) => [name, dispatch(action)]));\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  HashRouter as Router,\n  useHistory as history,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\n\nconst useHistory = () => history();\n\nfunction PrivateRoute({ children, check, redirectTo = '/', ...rest }) {\n  function render({location}) {\n    if (check) return children;\n\n    return <Redirect to={{ pathname: redirectTo, state: { from: location } }} />;\n  }\n\n  return ( <Route {...rest} render={render} /> );\n}\n\nexport {\n  Router,\n  useHistory,\n  Switch,\n  Route,\n  PrivateRoute,\n  Link,\n  Redirect,\n  useParams,\n  useRouteMatch,\n};\n","export default function Icon(props) {\n  let {\n    fill = 'currentColor',\n    height = null,\n    width = null,\n  } = props;\n\n  switch (props.type) {\n    case 'logo':\n      if (!width && !height) height = '1.2em';\n      return (\n        <svg fill={fill} height={height} width={width} viewBox=\"0 0 63 20\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMin meet\">\n          <g fillRule=\"evenodd\" className=\"svelte-1gcdbl9\">\n            <path d=\"M61.842 9.506a1.02 1.02 0 0 1-1.023-1.024c0-.562.453-1.03 1.029-1.03a1.02 1.02 0 0 1 1.023 1.024 1.03 1.03 0 0 1-1.029 1.03m.006-1.952a.915.915 0 0 0-.922.928c0 .51.394.921.916.921a.916.916 0 0 0 .922-.927.908.908 0 0 0-.916-.922m.226 1.027l.29.406h-.244l-.26-.372h-.225v.372h-.204V7.912h.48c.249 0 .413.128.413.343 0 .176-.102.284-.25.326m-.172-.485h-.267v.34h.267c.133 0 .212-.065.212-.17 0-.11-.08-.17-.212-.17m-12.804-3.52a1.043 1.043 0 1 0-.001 2.086 1.043 1.043 0 0 0 0-2.087m.72 2.89h-1.454a.107.107 0 0 0-.106.107v6.346c0 .06.047.107.106.107h1.455a.107.107 0 0 0 .107-.107V7.572a.107.107 0 0 0-.107-.107m3.233.006v-.2c0-.592.227-.856.736-.856.303 0 .546.06.82.152a.106.106 0 0 0 .14-.102V5.24a.107.107 0 0 0-.076-.102 3.993 3.993 0 0 0-1.21-.174c-1.343 0-2.053.757-2.053 2.188v.308h-.699a.107.107 0 0 0-.107.106v1.257c0 .059.048.107.107.107h.699v4.99c0 .058.047.106.106.106h1.455a.107.107 0 0 0 .106-.107v-4.99h1.358l2.081 4.99c-.236.523-.468.628-.785.628-.257 0-.527-.077-.803-.228a.109.109 0 0 0-.084-.008.106.106 0 0 0-.063.058l-.493 1.081a.106.106 0 0 0 .045.138c.515.279.98.398 1.554.398 1.074 0 1.668-.5 2.191-1.847L60.6 7.617a.106.106 0 0 0-.099-.146h-1.514a.107.107 0 0 0-.1.072l-1.552 4.431-1.7-4.434a.106.106 0 0 0-.099-.069h-2.485m-5.577-.006h-1.6V5.828a.106.106 0 0 0-.107-.106h-1.455a.107.107 0 0 0-.106.106v1.637h-.7a.106.106 0 0 0-.106.107v1.25c0 .059.048.107.106.107h.7v3.234c0 1.308.65 1.97 1.934 1.97.522 0 .954-.107 1.362-.338a.106.106 0 0 0 .054-.093v-1.19a.106.106 0 0 0-.154-.096c-.28.141-.551.206-.854.206-.467 0-.675-.211-.675-.686V8.929h1.6a.106.106 0 0 0 .107-.107v-1.25a.106.106 0 0 0-.106-.107m-7.671-.133c-1.96 0-3.497 1.51-3.497 3.437 0 1.907 1.526 3.4 3.473 3.4 1.967 0 3.508-1.504 3.508-3.424 0-1.914-1.53-3.413-3.484-3.413m0 5.362c-1.043 0-1.83-.838-1.83-1.95 0-1.115.76-1.924 1.806-1.924 1.05 0 1.84.838 1.84 1.95 0 1.115-.763 1.924-1.816 1.924m-7.014-5.362c-.82 0-1.492.323-2.046.984v-.744a.107.107 0 0 0-.106-.107h-1.455a.107.107 0 0 0-.106.107v8.27c0 .058.048.106.106.106h1.455a.107.107 0 0 0 .106-.106v-2.61c.555.621 1.227.925 2.046.925 1.522 0 3.063-1.172 3.063-3.412s-1.54-3.413-3.063-3.413m1.372 3.413c0 1.14-.703 1.937-1.709 1.937-.995 0-1.745-.833-1.745-1.937s.75-1.937 1.745-1.937c.99 0 1.71.814 1.71 1.937m-8.437-1.81c-1.624-.388-1.913-.66-1.913-1.231 0-.54.508-.903 1.264-.903.732 0 1.459.275 2.22.843a.107.107 0 0 0 .15-.023l.794-1.119a.107.107 0 0 0-.02-.144c-.906-.728-1.927-1.081-3.12-1.081-1.755 0-2.98 1.052-2.98 2.559 0 1.615 1.057 2.187 2.884 2.628 1.554.358 1.817.658 1.817 1.195 0 .594-.53.963-1.385.963-.948 0-1.721-.32-2.587-1.068a.11.11 0 0 0-.078-.026.105.105 0 0 0-.073.038l-.89 1.058a.105.105 0 0 0 .011.148 5.303 5.303 0 0 0 3.581 1.373c1.89 0 3.112-1.033 3.112-2.631 0-1.351-.807-2.098-2.787-2.58M9.507.305a9.41 9.41 0 1 0 0 18.82 9.41 9.41 0 0 0 0-18.82m4.316 13.572a.586.586 0 0 1-.807.195c-2.21-1.35-4.99-1.655-8.266-.907a.586.586 0 1 1-.261-1.143c3.584-.82 6.659-.467 9.139 1.049.276.169.363.53.195.806m1.15-2.562a.734.734 0 0 1-1.008.242c-2.529-1.555-6.385-2.005-9.377-1.097a.735.735 0 0 1-.426-1.404c3.418-1.037 7.666-.534 10.57 1.25a.734.734 0 0 1 .242 1.01m.1-2.669C12.04 6.846 7.036 6.68 4.141 7.56a.88.88 0 1 1-.511-1.684c3.323-1.01 8.849-.814 12.34 1.258a.88.88 0 0 1-.898 1.514\" />\n          </g>\n        </svg>\n      );\n    case 'search':\n      return (\n        <svg fill={fill} height={height||'1em'} width={width||'1em'} viewBox=\"0 0 16 16\" className=\"bi bi-search\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fillRule=\"evenodd\" d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\"/>\n          <path fillRule=\"evenodd\" d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\"/>\n        </svg>\n      );\n    default:\n      return <></>;\n  }\n};\n","import { useSelector, useActions } from '../../redux/store';\nimport { useHistory } from '../../router';\n\nimport Icon from '../icon';\n\nfunction Search() {\n  const search = useSelector(store => store.search);\n  const { setSearch } = useActions(['setSearch']);\n  const history = useHistory();\n\n  function submit(e) {\n    if (e) e.preventDefault();\n    console.log('submit:', search);\n    if (search) history.push(`/search/${search.trim()}`);\n  }\n\n  return (\n    <form className=\"form-inline my-2 my-lg-0\" onSubmit={submit}>\n      <div className=\"input-group\">\n        <input type=\"text\" className=\"form-control\" placeholder=\"Buscar\" aria-label=\"Buscar\" aria-describedby=\"button-addon2\"\n          value={search} onChange={(e) => setSearch(e.target.value)}\n        />\n        <div className=\"input-group-append\">\n          <button className=\"btn btn-outline-light btn-search\" type=\"button\" id=\"button-addon2\">\n            <Icon type=\"search\" />\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default Search;\n","import { useSelector, useActions } from '../../redux/store';\n\nimport Search from './search';\n\nexport default function Menu() {\n  const user = useSelector(store => store.user);\n  const { login, logout } = useActions(['login', 'logout']);\n\n  if (user === false) return <></>;\n\n  if (!user) {\n    return (\n      <ul className=\"navbar-nav mr-auto\">\n        <li className=\"nav-item\">\n          <span className=\"nav-link\" onClick={login}>Login</span>\n        </li>\n      </ul>\n    );\n  }\n\n  return (\n    <>\n      <ul className=\"navbar-nav mr-auto\">\n        <li className=\"nav-item dropdown\">\n          <a className=\"nav-link dropdown-toggle\" href=\"#/\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            { user.display_name || 'User' }\n          </a>\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <span className=\"dropdown-item\" onClick={logout}>Logout</span>\n          </div>\n        </li>\n      </ul>\n      <Search />\n    </>\n  );\n}\n","import { Link } from 'react-router-dom';\nimport './index.scss';\n\nimport Icon from '../icon';\nimport Menu from './menu';\n\nexport default function Header() {\n  return (\n    <nav className=\"navbar navbar-expand-md navbar-dark fixed-top bg-dark\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        <Icon type=\"logo\" />\n        <small className=\"ml-1\">Demo</small>\n      </Link>\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <Menu />\n      </div>\n    </nav>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import logo from '../logo.svg';\nimport './Home.scss';\n\nexport default function Home() {\n  return (\n    <header className=\"Home-header pt-5\">\n      <p> Demo de spotify. </p>\n      <img src={logo} className=\"Home-logo\" alt=\"logo\" />\n      <p> react.js + redux + bootstrap </p>\n  </header>\n  );\n}\n","export default function Track({ track, ...rest }) {\n  const { artists, album } = track;\n\n  return (\n    <div className=\"card track\" {...rest}>\n      <Images album={album} />\n      <div className=\"card-body\">\n        <Song track={track} />\n        <Album album={album} />\n        <Artists artists={artists} />\n      </div>\n    </div>\n  );\n}\n\nfunction Artists({artists}) {\n  const names = artists.map(({name}) => name).join(', ');\n  return <h6  className=\"card-text\"><small>{ names }</small></h6>\n}\n\nfunction Album({album}) {\n  const { name, release_date } = album;\n  return (\n    <div className=\"d-flex\">\n      <h6 className=\"card-title text-truncate mr-auto\" title={name}>{ name }</h6>\n      <div className=\"card-text ml-2\"><small className=\"text-muted text-nowrap\">{ release_date }</small></div>\n    </div>\n  );\n}\n\nfunction Images({album, ...rest}) {\n  const { name, images: [image] } = album;\n  return <img src={image.url} alt={name} {...rest} className=\"card-img-top\" />;\n}\n\nfunction Song({track}) {\n  const { name, duration_ms } = track;\n  return (\n    <div className=\"d-flex\">\n      <h5 className=\"card-title text-truncate mr-auto\" title={name}>{ name }</h5>\n      <div className=\"card-text ml-2\"><small className=\"text-muted text-nowrap\">{ msToTime(duration_ms) }</small></div>\n    </div>\n  );\n}\n\nfunction msToTime(time = 0) {\n  // console.log('ms:', time);\n  time = parseInt(time/1000);\n  const group = [time % 60];\n  time = parseInt(time/60);\n  group.unshift(time);\n  const t = group.map(val => val.toString().padStart(2, '0')).join(':');\n  // console.log('time:', t);\n  return t;\n}\n","\nexport default function getPages({glue = '...', ...options}) {\n  const groups = pageGroups(options);\n  return groups.reduce((result, group) => {\n    if (!(result instanceof Array)) return group;\n    return [...result, glue, ...group];\n  });\n}\n\nexport function pageGroups({max = 7, first = 1, pages = 1, current = 1}) {\n  const secuence = (num, start = 0) => Array(num).fill(first+start).map((f,n) => f+n);\n  const n = current - first;\n  const last = pages - first;\n\n  if (max < 5) max = 5; // 5 or more pages\n\n  if (pages <= max) return [secuence(pages)];\n\n  // hodd (half / odd pages)\n  const hodd = max % 2 === 1;\n\n  // hl (half-low), hh (half-high)\n  let hl = parseInt(max/2);\n  let hh = hl + ~~hodd;\n\n  if (n < hl) {\n    return [ secuence(hh), secuence(hl, last-hl+1) ];\n  }\n\n  if (n === hl) {\n    return [ secuence(hl+2), secuence(max-hl-2, last-hl+2) ];\n  }\n\n  if (n > hl && n < last - hl) {\n    // qodd (quarter / odd half)\n    const qodd = hl % 2 === 1;\n    // ql (quarter-low), qh (quarter-high)\n    let ql = parseInt(hl/2);\n    let qh = ql + ~~qodd;\n    return [ secuence(qh), secuence(ql*2 + ~~hodd, n-ql), secuence(qh, last-ql) ];\n  }\n\n  if (n === last - hl) {\n    return [ secuence(max-hl-2), secuence(hl+2, last-hl-1) ];\n  }\n\n  if (n > last - hl) {\n    return [ secuence(hl), secuence(hh, last-hh+1) ];\n  }\n\n  return [];\n}\n","import getPages from '../../utils/pages';\nimport { useHistory } from '../../router';\nimport { useActions } from '../../redux/store';\n\nexport default function Paginator() {\n  const { pagination } = useActions(['pagination']);\n  const { query, current, previous, next, pages } = pagination();\n\n  return (\n    <div className=\"card-deck\">\n      <nav className=\"m-2\" aria-label=\"Page navigation example\">\n        <ul className=\"pagination mb-0\">\n          <Button page={previous} disabled={!previous}><span aria-hidden=\"true\">&laquo;</span></Button>\n\n          <PageButtons query={query} current={current} pages={pages} />\n\n          <Button page={next} disabled={!next}><span aria-hidden=\"true\">&raquo;</span></Button>\n        </ul>\n      </nav>\n    </div>\n  );\n\n  function PageButtons() {\n    return getPages({current, pages}).map(n => (\n      <Button page={n} query={query} />\n    ));\n  }\n\n  function Button({page = 1, disabled:dis = false, children = null}) {\n    const history = useHistory();\n    const disabled = dis || page === '...' || page === current;\n\n    const goToPage = () => disabled ? null : history.push(`/search/${query.q}/${page}`);\n\n    return (\n      <li className={`page-item ${disabled&&'disabled'}`}>\n        <button onClick={goToPage} className=\"page-link\" disabled={disabled}>{children||page}</button>\n      </li>\n    );\n  }\n\n}\n","import Track from './Track';\nimport Paginator from './paginator';\nimport './index.scss';\n\nexport default function Tracks({ music = {} }) {\n  if (!music) return <></>;\n\n  if (music.loading) return (\n    <div className=\"d-flex align-items-center\">\n      <div className=\"spinner-border ml-auto mr-2\" role=\"status\" aria-hidden=\"true\"></div>\n      <strong className=\"mr-auto\">Loading...</strong>\n    </div>\n  );\n\n  if (music.error) return (\n    <div className=\"alert alert-danger\" role=\"alert\">\n      Ocurri√≥ un error en la api de Spotify.\n    </div>\n  );\n\n  const { items: tracks = [] } = music.tracks||{};\n  if (!tracks.length) return (\n    <div className=\"alert alert-danger\" role=\"alert\">\n      No hay resultados para mostrar.\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"card-deck track-list\">\n        { tracks.map((track) => (<Track key={track.id} track={track} />)) }\n      </div>\n      <Paginator />\n    </>\n  );\n}\n","import { useParams } from '../router';\nimport { useSelector, useActions } from '../redux/store';\n\nimport Tracks from '../components/tracks';\n\nexport default function Music() {\n  const { query, page = 1 } = useParams();\n  const { searchMusic, setSearch } = useActions(['searchMusic', 'setSearch']);\n  const music = useSelector(store => store.music);\n  setSearch(query);\n  searchMusic({query, page});\n\n  return (\n    <div className=\"card\">\n      <h5 className=\"card-header\">Search: <small>{query}</small></h5>\n      <div className=\"card-body\">\n        <Tracks music={music} />\n      </div>\n    </div>\n  );\n}\n","import { Route, Switch, useRouteMatch } from '../router';\nimport Music from './Music';\n\nfunction Search() {\n  const { path } = useRouteMatch();\n\n  return (\n    <div className=\"container-fluid mt-5 pt-4 mb-3\">\n      <Switch>\n        <Route exact path={`${path}/:query`}>\n          <Music />\n        </Route>\n        <Route path={`${path}/:query/:page`}>\n          <Music />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default Search;\n","import { Switch, Route, PrivateRoute/* , Link */ } from '../router';\nimport { useSelector, useActions } from '../redux/store';\n\nimport Home from './Home';\nimport Search from './Search';\n\nexport default function Views () {\n  const user = useSelector(store => store.user);\n  const { isAuth } = useActions(['isAuth']);\n\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <PrivateRoute check={isAuth()} path=\"/search\">\n        {user ? <Search /> : <></>}\n      </PrivateRoute>\n      <PrivateRoute check={false} path=\"/:any\">\n        <Home />\n      </PrivateRoute>\n    </Switch>\n  );\n}\n","import { useEffect } from 'react';\nimport { Router } from './router';\nimport { useActions } from './redux/store';\n\nimport Header from './components/header';\nimport Views from './views';\n\nimport './App.scss';\n\nfunction App() {\n  const { validateCode, fetchUser } = useActions(['validateCode', 'fetchUser']);\n\n  useEffect(() => {\n    // Initialize some data\n    validateCode().finally(() => fetchUser());\n  });\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Views />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport reportWebVitals from './reportWebVitals';\n\nimport App from './App';\n\nimport './index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nrequire('jquery/dist/jquery.slim');\nrequire('bootstrap');\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}